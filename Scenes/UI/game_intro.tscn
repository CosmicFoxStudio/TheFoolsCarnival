[gd_scene load_steps=23 format=3 uid="uid://2dftu4pgnmt8"]

[ext_resource type="Script" path="res://Scenes/scenemanager.gd" id="1_dw6fi"]
[ext_resource type="Script" path="res://Scripts/Cutscenes/cutscene_handler.gd" id="1_fkvak"]
[ext_resource type="Shader" uid="uid://3gtymxhqjjnk" path="res://Shaders/twirl_heat_distortion.tres" id="3_3eyem"]
[ext_resource type="Texture2D" uid="uid://b33wjhtgfauwj" path="res://Assets/UI/intro1.png" id="3_b8rl1"]
[ext_resource type="FontFile" uid="uid://c1v3643n5fb3m" path="res://Assets/Fonts/daydream_3/Daydream.ttf" id="4_3v2fm"]
[ext_resource type="Texture2D" uid="uid://cnqe7ow8k8rrq" path="res://Assets/UI/intro2.png" id="4_fl153"]
[ext_resource type="Texture2D" uid="uid://d166lar76rpdv" path="res://Assets/UI/intro_template.png" id="4_w2ng7"]
[ext_resource type="Shader" path="res://Shaders/dither_gradient.gdshader" id="6_ag7vf"]
[ext_resource type="Texture2D" uid="uid://st0pp7ds5r8u" path="res://Assets/UI/cutscenes/intro/spr_bg_introX2.png" id="7_444cb"]
[ext_resource type="Texture2D" uid="uid://dhtmvtyc0g0ek" path="res://Assets/UI/cutscenes/intro/spr_intro_frameX2.png" id="8_15t56"]
[ext_resource type="SpriteFrames" uid="uid://baa3vo41b1uf0" path="res://Assets/UI/Diamond Transition/Diamond Transition/spr_transition_diamond.tres" id="8_v0xgi"]
[ext_resource type="Texture2D" uid="uid://c5y3gg42nxo6d" path="res://Assets/UI/cutscenes/spr_intro_2_porrietX2.png" id="9_xacjl"]
[ext_resource type="Texture2D" uid="uid://bxajfmigdocyp" path="res://Assets/UI/cutscenes/spr_intro_2_ringmasterX2.png" id="11_bkn3x"]
[ext_resource type="Texture2D" uid="uid://ct4h6r1l2ibq8" path="res://Assets/UI/cutscenes/spr_intro_2_jesterX2.png" id="12_xjhou"]

[sub_resource type="Animation" id="Animation_alxy0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasModulate:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("FadeAnim:modulate:a")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("DialogueBoxLabel:text")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc tortor sem, scelerisque id pellentesque ac, vehicula quis neque. Sed dignissim lacus id tortor maximus, in euismod nulla pharetra. Donec at porttitor lectus, a faucibus massa. Nunc ante dui, malesuada sit amet varius a, dapibus at arcu. Nullam bibendum augue quis mauris"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_rn0v1"]
_data = {
"RESET": SubResource("Animation_alxy0")
}

[sub_resource type="Animation" id="Animation_yieed"]
resource_name = "cutscene_1"
length = 10.0
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SceneManager")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(10),
"transitions": PackedFloat32Array(1),
"values": [{
"args": ["res://Scenes/main.tscn", 0],
"method": &"load_scene"
}]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"values": []
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CanvasModulate/FullCutscene:texture")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [ExtResource("4_w2ng7"), ExtResource("3_b8rl1"), ExtResource("4_fl153")]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = false
tracks/3/path = NodePath("CanvasModulate:color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 2, 2.43333, 2.86667, 3.36667, 3.9),
"transitions": PackedFloat32Array(1, 1, 1.03526, 1.03526, 1.03526, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 0, 1, 1), Color(1.14551e-05, 0.939213, 0.697055, 1), Color(1, 0.253694, 0.0694736, 1), Color(1, 1, 1, 1)]
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("FadeAnim:modulate:a")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 0, 0, 0, 1, 0),
"times": PackedFloat32Array(0, 0.333333)
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("DialogueBoxLabel:text")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": ["Historia do Circo", "Porriet Texto 1", "Porriet Texto 2"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_56and"]
_data = {
"cutscene_1": SubResource("Animation_yieed")
}

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_fthub"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xjwhs"]
shader = ExtResource("6_ag7vf")
shader_parameter/u_bit_depth = 5
shader_parameter/u_contrast = null
shader_parameter/u_offset = 0.0
shader_parameter/u_dither_size = null
shader_parameter/u_dither_tex = SubResource("NoiseTexture2D_fthub")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0c7fe"]
shader = ExtResource("3_3eyem")

[sub_resource type="LabelSettings" id="LabelSettings_cdirn"]
font_size = 11
font_color = Color(1, 0.945098, 0.0705882, 1)

[node name="GameIntro" type="Node2D" node_paths=PackedStringArray("cutscene_player", "skipButton", "dialogueLabel")]
script = ExtResource("1_fkvak")
cutscene_player = NodePath("CutscenePlayer")
skipButton = NodePath("SideButtons/SkipButton")
dialogueLabel = NodePath("DialogueBoxLabel")
cutsceneName = "intro_cutscene/cutscene_1"

[node name="CutscenePlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_rn0v1"),
"intro_cutscene": SubResource("AnimationLibrary_56and")
}

[node name="BG_Background" type="Sprite2D" parent="."]
visible = false
z_index = -1
z_as_relative = false
scale = Vector2(2, 2)
texture = ExtResource("4_w2ng7")

[node name="SceneManager" type="Node2D" parent="."]
script = ExtResource("1_dw6fi")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
show_behind_parent = true
z_index = -1
material = SubResource("ShaderMaterial_xjwhs")

[node name="FullCutscene" type="Sprite2D" parent="CanvasModulate"]
visible = false
show_behind_parent = true
material = SubResource("ShaderMaterial_0c7fe")
use_parent_material = true
scale = Vector2(2, 2)
texture = ExtResource("4_fl153")
region_rect = Rect2(7.305, 0, 0, 0)

[node name="IntroBox" type="Sprite2D" parent="CanvasModulate"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("7_444cb")

[node name="Frame" type="Sprite2D" parent="CanvasModulate/IntroBox"]
scale = Vector2(2, 2)
texture = ExtResource("8_15t56")

[node name="PorrietSprite" type="Sprite2D" parent="CanvasModulate/IntroBox"]
scale = Vector2(2, 2)
texture = ExtResource("9_xacjl")

[node name="Ringmaster" type="Sprite2D" parent="CanvasModulate/IntroBox"]
scale = Vector2(2, 2)
texture = ExtResource("11_bkn3x")

[node name="SprIntro2JesterX2" type="Sprite2D" parent="CanvasModulate/IntroBox"]
scale = Vector2(2, 2)
texture = ExtResource("12_xjhou")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="SideButtons" type="BoxContainer" parent="."]
clip_contents = true
layout_direction = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 192.0
offset_top = 125.0
offset_right = 574.0
offset_bottom = 280.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.3, 0.3)
vertical = true

[node name="SkipButton" type="Button" parent="SideButtons"]
layout_mode = 2
theme_override_fonts/font = ExtResource("4_3v2fm")
theme_override_font_sizes/font_size = 85
text = "SKIP"

[node name="FadeAnim" type="AnimatedSprite2D" parent="."]
visible = false
modulate = Color(1, 1, 1, 0)
scale = Vector2(0.5, 0.5)
sprite_frames = ExtResource("8_v0xgi")

[node name="DialogueBoxLabel" type="Label" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -273.5
offset_top = 24.0
offset_right = 273.5
offset_bottom = 169.0
grow_horizontal = 2
theme_override_colors/font_color = Color(1, 0.74902, 0, 1)
theme_override_colors/font_outline_color = Color(0.803922, 0.0392157, 0.172549, 1)
theme_override_fonts/font = ExtResource("4_3v2fm")
theme_override_font_sizes/font_size = 2
text = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc tortor sem, scelerisque id pellentesque ac, vehicula quis neque. Sed dignissim lacus id tortor maximus, in euismod nulla pharetra. Donec at porttitor lectus, a faucibus massa. Nunc ante dui, malesuada sit amet varius a, dapibus at arcu. Nullam bibendum augue quis mauris"
label_settings = SubResource("LabelSettings_cdirn")
autowrap_mode = 2

[connection signal="pressed" from="SideButtons/SkipButton" to="." method="_on_skip_button_pressed"]
